# OpenCode Chat Bridge Configuration

# Server
PORT=3000
NODE_ENV=development

# API Security
API_KEY=your-secret-api-key-here

# Telegram Bot (optional - at least one adapter required)
TELEGRAM_BOT_TOKEN=your-telegram-bot-token
TELEGRAM_ALLOWED_USERS=123456789,987654321  # Comma-separated user IDs

# Slack Bot (optional - at least one adapter required)
SLACK_BOT_TOKEN=xoxb-your-bot-token
SLACK_APP_TOKEN=xapp-your-app-token
SLACK_SIGNING_SECRET=your-signing-secret
SLACK_ALLOWED_CHANNELS=  # Optional: C123456789,C987654321 (leave empty for all channels)

# OpenCode Server Configuration
# Option 1: Connect to external OpenCode server (recommended for systemd service)
# OPENCODE_SERVER_URL=http://127.0.0.1:4096

# Option 2: Start embedded server (used when OPENCODE_SERVER_URL is not set)
# OPENCODE_SERVER_PORT=0       # 0 = auto-select port
# OPENCODE_SERVER_HOSTNAME=localhost

# Projects Directory
PROJECTS_DIR=~/projects

# Free Chat Mode Directory (for /chat command - no project required)
# FREE_CHAT_DIR=~/.opencode-chat

# Session Configuration
SESSION_TIMEOUT_MINUTES=30
SESSION_PERSIST_DIR=./sessions

# Logging
LOG_LEVEL=info

# Azure DevOps Webhook Configuration
AZURE_DEVOPS_WEBHOOK_SECRET=your-webhook-secret-here  # Shared secret for webhook validation
AZURE_DEVOPS_BOT_NAME=@OpenCodeBot  # Bot name to look for in @mentions
# AZURE_DEVOPS_ALLOWED_IPS=  # Optional: Comma-separated IP whitelist

# Azure DevOps API Configuration (for posting workflow results)
AZURE_DEVOPS_ORGANIZATION=your-org-name  # Organization name from https://dev.azure.com/{org}
AZURE_DEVOPS_PAT=your-personal-access-token  # PAT with "Work Items (Read & Write)" scope

# Workflow Configuration
WORKFLOW_TIMEOUT_MINUTES=30  # Maximum time for workflow execution
WORKFLOW_MAX_AGENTS=5  # Maximum concurrent agents in a swarm
