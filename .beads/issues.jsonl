{"id":"opencode-chat-bridge-5c5","title":"Add monitoring and usage analytics","description":"Implement monitoring for chat history features:\n- Track search query performance and latency\n- Log usage statistics (command frequency, user engagement)\n- Monitor database query performance\n- Add health check endpoints\n- Create usage dashboard or reports","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-13T12:12:46.139431503-06:00","created_by":"cjazinski","updated_at":"2026-01-13T12:12:46.139431503-06:00"}
{"id":"opencode-chat-bridge-74j","title":"Improve search with ranking and filters","description":"Enhance search functionality:\n- Add relevance ranking to search results\n- Add date range filters (e.g., --since, --before)\n- Add user filters (e.g., --from @user)\n- Add limit/pagination controls\n- Improve result formatting with context snippets","status":"in_progress","priority":1,"issue_type":"task","created_at":"2026-01-13T12:12:42.983950003-06:00","created_by":"cjazinski","updated_at":"2026-01-13T12:25:11.793507035-06:00"}
{"id":"opencode-chat-bridge-7zx","title":"Add unit tests for search functionality","description":"Write comprehensive unit tests:\n- Test PostgreSQL search with fallback logic\n- Test SQLite search with fallback logic\n- Test edge cases (empty queries, special chars, long queries)\n- Test search result ranking and filtering\n- Mock database calls appropriately\n- Achieve \u003e80% code coverage for ChatHistory module","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T12:12:47.800894144-06:00","created_by":"cjazinski","updated_at":"2026-01-13T12:17:54.526200617-06:00","closed_at":"2026-01-13T12:17:54.526200617-06:00","close_reason":"Closed"}
{"id":"opencode-chat-bridge-8dd","title":"Refactor to use OpenCode Server API instead of PTY","description":"Replace the PTY-based approach (which outputs messy TUI characters) with OpenCode's HTTP Server API for clean structured data.\n\n## Goals\n- Clean readable output in Telegram (no box-drawing characters)\n- Proper streaming via SSE events\n- Access to structured session/message data\n- Better reliability and future-proof design\n\n## Architecture Change\nFROM: Telegram ‚Üí Bridge ‚Üí PTY running opencode TUI (messy output)\nTO:   Telegram ‚Üí Bridge ‚Üí OpenCode Server (HTTP API with clean JSON)\n\n## Key APIs to use\n- POST /session - Create session\n- POST /session/:id/message - Send message, get response\n- GET /event - SSE stream for real-time updates\n- POST /session/:id/abort - Stop current operation\n\n## Reference\nhttps://opencode.ai/docs/server","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-27T07:46:25.192603401-06:00","updated_at":"2025-12-27T08:05:34.830996652-06:00","closed_at":"2025-12-27T08:05:34.830996652-06:00","close_reason":"Closed"}
{"id":"opencode-chat-bridge-8dd.1","title":"Create OpenCodeClient for HTTP API communication","description":"Create a new OpenCodeClient class that handles communication with the OpenCode HTTP Server API.\n\n## Key Features\n- Manage opencode server process lifecycle (spawn `opencode serve`)\n- HTTP client for REST endpoints\n- SSE client for event streaming\n- Session management (create, list, abort)\n- Message sending and response handling\n\n## API Endpoints to implement\n- GET /global/health - Health check\n- POST /session - Create session\n- GET /session/:id - Get session\n- POST /session/:id/message - Send message\n- POST /session/:id/abort - Abort session\n- GET /event - SSE event stream\n\n## Files to create\n- src/opencode/OpenCodeClient.ts\n- src/opencode/types.ts (TypeScript interfaces for API types)\n- src/opencode/index.ts","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-27T07:46:33.407556048-06:00","updated_at":"2025-12-27T08:04:39.940039618-06:00","closed_at":"2025-12-27T08:04:39.940039618-06:00","close_reason":"Closed","dependencies":[{"issue_id":"opencode-chat-bridge-8dd.1","depends_on_id":"opencode-chat-bridge-8dd","type":"parent-child","created_at":"2025-12-27T07:46:33.422092165-06:00","created_by":"daemon"}]}
{"id":"opencode-chat-bridge-8dd.2","title":"Refactor Session to use OpenCodeClient instead of PTY","description":"Update the Session class to use the new OpenCodeClient instead of PtyHandler.\n\n## Changes\n- Replace PtyHandler with OpenCodeClient\n- Map opencode session IDs to our session model  \n- Handle SSE events for streaming responses\n- Extract clean text content from message parts\n- Handle tool calls, file edits, etc. in a readable way\n\n## Files to modify\n- src/sessions/Session.ts","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-27T07:46:40.287135429-06:00","updated_at":"2025-12-27T08:04:41.05458909-06:00","closed_at":"2025-12-27T08:04:41.05458909-06:00","close_reason":"Closed","dependencies":[{"issue_id":"opencode-chat-bridge-8dd.2","depends_on_id":"opencode-chat-bridge-8dd","type":"parent-child","created_at":"2025-12-27T07:46:40.302277151-06:00","created_by":"daemon"}]}
{"id":"opencode-chat-bridge-8dd.3","title":"Create message formatter for clean Telegram output","description":"Create a formatter that converts OpenCode message parts into clean, readable Telegram messages.\n\n## Message Parts to handle\n- Text content ‚Üí Clean markdown\n- Tool calls ‚Üí Formatted action summaries (e.g., 'üìÅ Reading file: src/index.ts')\n- Tool results ‚Üí Condensed output\n- File edits ‚Üí Diff summaries\n- Errors ‚Üí Clear error messages\n\n## Goals\n- Readable in Telegram chat\n- Preserve important information\n- Skip verbose/noisy content\n- Handle code blocks properly\n\n## Files to create/modify\n- src/utils/messageFormatter.ts (new)\n- src/utils/outputParser.ts (may be deprecated)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T07:46:48.550155911-06:00","updated_at":"2025-12-27T08:04:42.109757602-06:00","closed_at":"2025-12-27T08:04:42.109757602-06:00","close_reason":"Closed","dependencies":[{"issue_id":"opencode-chat-bridge-8dd.3","depends_on_id":"opencode-chat-bridge-8dd","type":"parent-child","created_at":"2025-12-27T07:46:48.564179932-06:00","created_by":"daemon"}]}
{"id":"opencode-chat-bridge-8dd.4","title":"Update TelegramAdapter for new session architecture","description":"Update TelegramAdapter to work with the refactored Session that uses OpenCodeClient.\n\n## Changes\n- Update output handling for structured message parts\n- Handle streaming responses from SSE\n- Update confirmation/abort handling\n- Add proper typing for new message format\n\n## Files to modify\n- src/adapters/TelegramAdapter.ts","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T07:46:54.905917827-06:00","updated_at":"2025-12-27T08:04:43.098755242-06:00","closed_at":"2025-12-27T08:04:43.098755242-06:00","close_reason":"Closed","dependencies":[{"issue_id":"opencode-chat-bridge-8dd.4","depends_on_id":"opencode-chat-bridge-8dd","type":"parent-child","created_at":"2025-12-27T07:46:54.921044104-06:00","created_by":"daemon"}]}
{"id":"opencode-chat-bridge-8dd.5","title":"Clean up deprecated PTY code","description":"Remove or deprecate PTY-related code that's no longer needed.\n\n## Files to evaluate\n- src/pty/PtyHandler.ts - Remove or keep for fallback?\n- src/utils/outputParser.ts - Remove TUI-specific cleaning\n\n## Considerations\n- May want to keep PTY as fallback option\n- Update config to choose between server/PTY mode","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-12-27T07:47:02.41885067-06:00","updated_at":"2025-12-27T08:05:27.513119029-06:00","closed_at":"2025-12-27T08:05:27.513119029-06:00","close_reason":"Closed","dependencies":[{"issue_id":"opencode-chat-bridge-8dd.5","depends_on_id":"opencode-chat-bridge-8dd","type":"parent-child","created_at":"2025-12-27T07:47:02.433164469-06:00","created_by":"daemon"}]}
{"id":"opencode-chat-bridge-dr7","title":"Add Telegram slash command support","description":"Implement chat history commands for Telegram:\n- /ai-search - Search chat history\n- /ask - Ask AI about conversations\n- /ai-history-stats - Show statistics\n- /ai-summary - Daily/weekly summaries\n- Ensure proper private/group message handling","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-13T12:12:44.482175026-06:00","created_by":"cjazinski","updated_at":"2026-01-13T12:12:44.482175026-06:00"}
{"id":"opencode-chat-bridge-fma","title":"OpenCode Chat Bridge - Initial Implementation","status":"open","priority":0,"issue_type":"epic","created_at":"2025-12-26T20:02:54.652065339-06:00","updated_at":"2025-12-26T20:02:54.652065339-06:00"}
{"id":"opencode-chat-bridge-fma.1","title":"Add Slack adapter","description":"Implement SlackAdapter using @slack/bolt to enable Slack workspace integration","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-26T20:02:59.362810766-06:00","updated_at":"2025-12-30T13:35:27.867657041-06:00","closed_at":"2025-12-30T13:35:27.867657041-06:00","close_reason":"Closed","dependencies":[{"issue_id":"opencode-chat-bridge-fma.1","depends_on_id":"opencode-chat-bridge-fma","type":"parent-child","created_at":"2025-12-26T20:02:59.377630319-06:00","created_by":"daemon"}]}
{"id":"opencode-chat-bridge-fma.2","title":"Add Discord adapter","description":"Implement DiscordAdapter using discord.js for Discord server integration","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T20:03:03.822045688-06:00","updated_at":"2025-12-26T20:03:03.822045688-06:00","dependencies":[{"issue_id":"opencode-chat-bridge-fma.2","depends_on_id":"opencode-chat-bridge-fma","type":"parent-child","created_at":"2025-12-26T20:03:03.836941392-06:00","created_by":"daemon"}]}
{"id":"opencode-chat-bridge-fma.3","title":"Add unit tests","description":"Add Jest/Vitest test suite covering SessionManager, PtyHandler, and adapters","status":"in_progress","priority":1,"issue_type":"task","created_at":"2025-12-26T20:03:09.988890714-06:00","updated_at":"2026-01-12T11:21:06.199278623-06:00","dependencies":[{"issue_id":"opencode-chat-bridge-fma.3","depends_on_id":"opencode-chat-bridge-fma","type":"parent-child","created_at":"2025-12-26T20:03:10.002323298-06:00","created_by":"daemon"}]}
{"id":"opencode-chat-bridge-fma.4","title":"Add Docker support","description":"Create Dockerfile and docker-compose.yml for containerized deployment","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T20:03:10.05393995-06:00","updated_at":"2025-12-26T20:03:10.05393995-06:00","dependencies":[{"issue_id":"opencode-chat-bridge-fma.4","depends_on_id":"opencode-chat-bridge-fma","type":"parent-child","created_at":"2025-12-26T20:03:10.055098301-06:00","created_by":"daemon"}]}
{"id":"opencode-chat-bridge-fma.5","title":"Add WebSocket support for real-time output streaming","description":"Implement WebSocket endpoint for clients that want real-time PTY output instead of polling","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T20:03:10.099257627-06:00","updated_at":"2025-12-26T20:03:10.099257627-06:00","dependencies":[{"issue_id":"opencode-chat-bridge-fma.5","depends_on_id":"opencode-chat-bridge-fma","type":"parent-child","created_at":"2025-12-26T20:03:10.100382945-06:00","created_by":"daemon"}]}
{"id":"opencode-chat-bridge-fma.6","title":"Add Microsoft Teams adapter","description":"Implement TeamsAdapter for Microsoft Teams integration.\n\n## Requirements\n- Use @microsoft/botframework SDK\n- Add Azure Bot Registration setup (App ID + Secret)\n- Create webhook endpoint at /api/teams/messages\n- Support Adaptive Cards for rich messages\n- Handle streaming updates via message edits\n- Support button actions for permissions\n\n## Key Differences from Telegram\n- Auth: Azure AD App ID + Secret (more complex than Telegram token)\n- Message delivery: Webhook only (no long polling)\n- Rich messages: Adaptive Cards (JSON) instead of Markdown\n- Rate limits: More strict than Telegram\n\n## Estimate\n~1 day of work (setup + implementation + testing)","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-27T12:20:04.846537253-06:00","updated_at":"2025-12-27T12:20:04.846537253-06:00","dependencies":[{"issue_id":"opencode-chat-bridge-fma.6","depends_on_id":"opencode-chat-bridge-fma","type":"parent-child","created_at":"2025-12-27T12:20:04.859651987-06:00","created_by":"daemon"}]}
{"id":"opencode-chat-bridge-lmq","title":"Add daily/weekly summary commands (/ai-summary)","description":"Add slash commands to generate AI-powered summaries of chat history:\n- /ai-summary daily - Summary of today's conversations\n- /ai-summary weekly - Summary of this week's conversations\n- Support both private and public variants\n- Include key topics, decisions, and action items","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T12:12:41.34251932-06:00","created_by":"cjazinski","updated_at":"2026-01-13T12:22:00.773285096-06:00","closed_at":"2026-01-13T12:22:00.773285096-06:00","close_reason":"Closed"}
